(()=>{if(!1!==isMobile)var e=setInterval((()=>{console.log(loadSum),loadSum>=4&&function(){clearInterval(e);var t=[].forEach;setTimeout((()=>{document.getElementById("loading-mask").style.display="none"}),100),document.getElementsByClassName("wp-inner")[0].fullpage({change:function(e){!function(){if(!a)return;a.forEach(((e,t,a)=>{e.timer&&clearTimeout(e.timer),e.sectimer&&clearTimeout(e.sectimer),a&&a.splice&&a.splice(t,1)}))}(),t.call(document.querySelectorAll(".page")[e.cur].querySelectorAll(".js-animate"),(function(e){e.classList.add("hide"),e.classList.remove(e.dataset.animate),e.dataset.sec&&e.classList.remove(e.dataset.sec)}))},afterChange:function(e){5!==e.cur||n||function(){if(window.BMap){n=!0;var e=[113.099109,27.831009],t=new BMap.Map("map",{minZoom:10,maxZoom:14});function a(e,t,a){this._point=e,this._text=t,this._overText=a}t.centerAndZoom(new BMap.Point(e[0],e[1]),13),a.prototype=new BMap.Overlay,a.prototype.initialize=function(e){this._map=e;var t=this._div=document.createElement("div");t.style.position="absolute",t.style.zIndex=BMap.Overlay.getZIndex(this._point.lat),t.style.backgroundColor="#E60000",t.style.borderRadius="3px",t.style.color="white",t.style.height="18px",t.style.padding="2px 4px",t.style.lineHeight="18px",t.style.whiteSpace="nowrap",t.style.MozUserSelect="none",t.style.fontSize="12px";var a=this._span=document.createElement("span");t.appendChild(a),a.appendChild(document.createTextNode(this._text));var n=this._arrow=document.createElement("div");return n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.top="22px",n.style.left="10px",n.style.overflow="hidden",n.style.border="6px solid transparent",n.style.borderTop="6px solid #E60000",t.appendChild(n),e.getPanes().labelPane.appendChild(t),t},a.prototype.draw=function(){var e=this._map.pointToOverlayPixel(this._point);this._div.style.left=e.x-parseInt(this._arrow.style.left)+"px",this._div.style.top=e.y-30+"px"};var o=new a(new BMap.Point(e[0],e[1]),"婚礼","N and Y");t.addOverlay(o),document.querySelector("#location-btn").addEventListener("click",(()=>{t.panTo(new BMap.Point(e[0],e[1])),e=[113.092545,27.831009],wx.openLocation({latitude:e[1],longitude:e[0],name:"沄和酒楼",address:"湖南省株洲市天元区珠江北路999号",scale:28,infoUrl:""})}))}}(),a=document.querySelectorAll(".page")[e.cur].querySelectorAll(".js-animate"),t.call(a,(e=>{var t=e.dataset.time;e.timer=setTimeout((function(){if(e.classList.add(e.dataset.animate),e.classList.remove("hide"),e.dataset.sec){var t=e.dataset.sectime||0;e.sectimer=setTimeout((function(){e.classList.remove(e.dataset.animate),e.classList.add(e.dataset.sec)}),t)}}),t)}))}})}()}),300);new Promise(((e,t)=>{const a=new XMLHttpRequest;a.open("GET","http://loveisforever.cn/api/sign?url="+location.href,!0),a.send(),a.onload=()=>{if(a.readyState===a.DONE&&200===a.status){const t=JSON.parse(a.response);console.log(t),e(t)}}})).then((e=>{t(e)}));const t=e=>{console.log("getWeShare params",e),wx.config({appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareQQ","onMenuShareWeibo","openLocation"]}),wx.ready((function(){const e={title:"李霁野&彭佳仪的婚礼邀请",desc:"我们将于2024年10月1日举行婚礼，诚挚邀请您的到来",link:"http://loveisforever.cn",imgUrl:"http://loveisforever.cn/public/photo/share.png",success:function(){console.log("share success")}};wx.onMenuShareQQ(e),wx.onMenuShareWeibo(e),wx.updateTimelineShareData(e),wx.updateAppMessageShareData(e)}))};var a=[],n=!1;function o(){let e,t=document.querySelector("#mp3"),a=document.querySelector("#play-btn");t.load(),document.addEventListener("WeixinJSBridgeReady",(function(){t.play(),t.paused||(a.style.animationPlayState="running",t.play(),e=!0)}),!1),console.log(t.paused,t.readyState),e=!t.paused&&4===t.readyState,a.style.animationPlayState=e?"running":"paused",a.addEventListener("click",(function(a){e?(this.style.animationPlayState="paused",t.pause(),e=!1):4===t.readyState&&(this.style.animationPlayState="running",t.play(),e=!0)}))}document.addEventListener("DOMContentLoaded",(e=>{o()})),window.onload=function(){o()}})();